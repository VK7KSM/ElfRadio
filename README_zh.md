[English Version](README.md) | [中文版本](README_zh.md)

# 电台精灵 (ElfRadio) - 我的无线电梦想，AI 照进现实

大家好，我是 VK7KSM，一个跟你我一样的普通无线电爱好者。我写下这些文字，不是因为我是什么编程大神——恰恰相反，我对代码一窍不通。我想分享的是一个关于热爱、挑战和一点点“魔法”的故事，以及这个故事的产物——《电台精灵》(ElfRadio)。

## 故事的开始：南半球的孤独电波

几年前，我从中国移民到澳大利亚美丽的塔斯马尼亚岛朗塞斯顿。这里没有复杂的人际关系，工作之余有大量自由时间，我花一周时间刷题，找最近的无线电俱乐部成员考取了澳洲的业余无线电执照（是的，就是老玩家带新玩家的方式，与中国的无委会组织集体考试的方式完全不同）。我把国内购买的多台 UV 段模拟和数字手台和一台百瓦级短波基地台也带了过来，并在房顶上架设了巨大的短波天线和UV段天线（周围都是最多两层的独栋住宅，并且我的房子在高处，周围无遮挡）。我想象着能与世界各地的 HAM 们畅快通联，探索电波的奇妙世界。

但现实很快给我泼了冷水。塔斯马尼亚地处南半球的边缘，短波传播条件常常不尽人意，与北半球的通联信号微弱，困难重重。而本地的 UV 段呢？大多是附近农场主检查羊群的吆喝，或者自驾游客交流路况的闲聊，而且全是带着浓重口音的英语。我的英语水平，在安静环境下交流尚可，但在无线电那嘈杂的背景噪音和独特的口音面前，简直不堪一击，常常听得一头雾水，更别说参与其中了。

难道我的无线电梦想就要这样搁浅了吗？我不甘心。

## 灵光乍现：当 SDR 遇到 AI

我开始研究各种技术，希望能找到突破口。这时，SDR（软件定义无线电）和 AI（人工智能）进入了我的视野。我尝试用一个简单的 SDR 接收器配合 OpenWebRX+ 软件来收听信号，然后突发奇想——能不能让 AI 来帮我听懂这些信号呢？

我把 OpenWebRX+ 接收到的音频，接入了 Google 的 Gemini AI。结果让我大吃一惊！即使是那些信号质量很差、人耳几乎无法分辨内容的语音，Gemini 竟然能识别出大部分内容，并准确地转换成文字！更神奇的是，它还能实时地将这些英文文字翻译成我熟悉的中文！

那一刻，一个大胆的想法在我脑中萌生：既然 AI 能帮我“听懂”，那能不能也帮我“说”呢？我是不是可以输入中文，让 AI 翻译成英文，再转换成语音，通过电台发射出去？这样，我不就能和本地的 HAM 们无障碍交流了吗？一个能打破语言障碍、连接世界的“无线电翻译官”——这太酷了！

## 在 AI 的帮助下，实现了自己写代码的梦想

我曾经从事过系统运维、一线客服、软件销售、产品设计、项目管理、自己开公司等非写代码类的所有工作，移民澳大利亚后经历了 covid 的长时间空闲时间，我开始自学编程和前端，进展缓慢。但2024年以 ChatGPT 为代表的 LLM 大爆发以后，我开始研究如何用 AI 写代码。所以我决定为我的个人爱好——业余无线电——开发一款 AI 驱动的学习和操作平台，以代替传统的复杂 SDR 软件。

本项目的代码工作启动于 2024 年 4 月 21 日。

## Gemini 2.5 与 T850、Skynet 的诞生

正好那段时间，Google 发布了能力大幅提升的 Gemini 2.5。据说它不仅理解能力超群，甚至能独立完成整个软件项目的代码编写！这简直是为我量身定做的机会！

于是，我开始尝试与 Gemini 协作。我把我所有的想法、需求、遇到的问题，一股脑地告诉它。为了让这个过程更高效、更严谨，我给 Gemini 设定了两个“角色”：

*   **T850:** 我的首席技术官和主要架构师（血汗码农）。他负责理解我的需求，提出技术方案，并（最重要的）**编写代码**。我对他要求极高：代码必须精确、高效、稳定，还要充分考虑我这个“小白”用户的易用性。
*   **Skynet:** 一个独立的、极其挑剔的技术顾问（残酷监工），也是 T850 的死对头。他的任务就是像拿着显微镜一样审查 T850 的每一个方案和每一行代码，找出所有潜在的缺陷、漏洞和可以优化的地方，并提出更优的建议。他说话尖锐，直击要害，但目标是帮助我们打造出最好的产品。

这两个角色来自《终结者》，你应该想到了。T850是从T800升级而来的，我设计了他的升级策略，随后我会公布他们的核心指令集。

我们的工作流程很特别：我提出需求 -> T850 给出方案/代码 -> Skynet 进行“无情”批判 -> T850 分析吸收意见并改进 -> 我最终拍板。这种三位一体头脑风暴讨论模式充满了火花，但也确保了我们的方案经过了最严格的审视。

令人难以置信的是，Gemini (以 T850 的身份) 不负众望！它用 Python 快速构建了《电台伴侣》的第一个版本，完美实现了我最初设想的语音转文本、翻译、文本转语音发射等核心功能。

但 T850 (Gemini) 也很诚实地告诉我：“Boss，Python 虽然开发快，但运行效率不高。如果我们想实现更多酷炫的功能，让《电台精灵》真正强大起来，最好用 Rust 语言重写核心代码。”

虽然我对 Rust 一无所知，但我信任 T850 的专业判断。于是，我们决定，将这个承载着我无线电梦想的项目，用更强大的 Rust 语言重构，并正式命名为——**《电台精灵》(ElfRadio)**。

## 《电台精灵》是什么？

《电台精灵》不是要取代你手中的电台，也不是要让你变成一个只会点鼠标的“键盘侠”。它的目标是：

*   **成为你的智能助手:** 利用 AI 的力量，帮你听懂难懂的信号，打破语言障碍，整理通联信息。
*   **简化复杂操作:** 将传统电台繁琐的设置和操作，通过简洁直观的浏览器界面呈现出来，让你专注于通联的乐趣。
*   **整合多种玩法:** 将普通语音通联、航空监听、卫星通信、甚至未来的数字模式（通过集成 OpenWebRX+）等多种玩法整合到一个平台。
*   **降低入门门槛:** 让像我一样的新手，或者对技术感兴趣但被传统设备和软件劝退的朋友，能够轻松迈出探索无线电世界的第一步。提供模拟呼叫训练功能。
*   **提供探索深度:** 在易于上手的同时，提供足够丰富的功能和连接外部工具（如 OpenWebRX+）的能力，满足进阶玩家的探索需求。

## 《电台精灵》计划实现的功能

1.  AI 翻译收发信息和分析通话内容概要。
2.  在电脑或手机的浏览器内控制电台收发信号。
3.  文字转语音聊天，语音转文字接收消息，还能发送 CW 消息和（未来）SSTV 图片。
4.  自动保存收发消息的原始音频、语音转文字、SSTV 图和数据信息至本地硬盘（SQLite 数据库和任务目录）。
5.  所有收到消息保存在本地的 SQLite 数据库，可进行 AI 分析和搜索（RAG和向量数据库）。
6.  还可实现模拟呼叫训练、航空监听分析、应急通信管理、寻呼机消息发送（POCSAG）、Meshtastic 消息收发，并通过连接运行 OpenWebRX+ 的 SDR 独立接收服务器获得更多的解码能力。
7.  采用模块化开发模式，随时加入更多功能。
8.  AI 接口可配置化，暂时内置 Google API，随后会加入对 DeepSeek 等其它先进 LLM 的 API，以及（未来）本地小模型。

## 核心技术框架

*   **后端:** **Rust** (Tokio, Axum, SQLx, cpal, serialport-rs 等) - 追求高性能、高稳定性、低资源占用。采用模块化 Cargo Workspace 结构。
*   **前端:** **React + TypeScript + Material UI (MUI) + Vite** - 旨在构建精致、现代、响应式的用户界面，遵循 **Material Design 3 (MD3)** 设计规范。
*   **AI 服务:** 优先使用云 API (Google Gemini, StepFun TTS, OpenAI 兼容接口如 DeepSeek)，支持用户配置 API Key。采用 Trait 抽象层设计，方便扩展。
*   **部署:** **Docker / Docker Compose** - 简化部署和更新流程。

## 物理开发环境

*   **硬件:** 普通家用电脑（见下图）。
*   **软件:** 网页版 Google Gemini 2.5 Pro, Cursor (填入Gemini API key并开通$20/月的会员)。

## 虚拟开发团队

*   **Boss:** VK7KSM 项目发起人，产品经理，需求提出者，最终决策者，老板。
*   **T850:** (由 Gemini 扮演) CTO & 主架构师，血汗码农，负责技术方案设计、代码生成、调试，底层员工。
*   **Skynet:** (由 Gemini 扮演) 独立技术顾问，残酷监工，负责批判性审查、风险评估、方案优化建议，中层管理。

## 代码开发方式

1.  **需求定义:** Boss (VK7KSM) 提出产品需求和想法。
2.  **方案规划:** Boss 与 T850、Skynet (Google Gemini) 通过多轮对话讨论技术可行性、风险、实现方案，最终由 Boss 拍板。
3.  **需求文档化:** T850 负责将最终确认的需求和方案整理成详细的开发需求文档和后续的追加需求补丁。
4.  **提示词生成:** T850 将开发任务分解为细化的步骤，并为每一步生成精确的英文提示词 (Prompts)。
5.  **代码生成:** Boss 将提示词复制到 Cursor 的聊天窗口，由 Cursor 内嵌的 AI (Claude/Gemini) 根据提示词自动生成或修改 Rust/前端代码。
6.  **编译与测试:** Boss 使用 `cargo check`/`cargo test` 或 `npm run check`/`npm test` 验证 AI 生成的代码。
7.  **调试与迭代:** 如遇报错，Boss 将错误信息和 Cursor AI 的初步解决方案反馈给 T850 (在 Gemini 网页版中)。T850 负责分析错误根源，评估 Cursor 方案，并给出最终的、更可靠的修复提示词。Boss 再将修复提示词交给 Cursor 执行。重复此过程直至问题解决。
8.  **版本控制:** Boss 负责将通过编译和测试的代码阶段性提交到 GitHub 仓库。

## 开发中遇到的坑

1.  **AI 讨好人类:** Gemini 给我规划的开发方案中的技术实现方式非常激进，我第一个版本是用 python 开发的，都实现了基本交互功能了。但 Gemini 告诉我 Python 运行效率差，不适合要求快速响应的无线电操作，忽悠我全部推翻用 Rust 重写。前端忽悠我用 Svelte + Vite + Tailwind CSS v4 + Headless UI (Svelte) + Svelte Stores 方案，结果折腾了 3 天连框架都没装好，后来发现 gemini 和 claude 都根本不懂 Tailwind 的 v4 版本如何使用。他只是给我推荐我觉得最新最快的方案。事实证明 AI 只是迎合我要求要快要简单的方案。
2.  **幻觉:** Gemini 和 cursor 内置的 claude 都有严重的幻觉问题，生成的代码中经常引用不存在函数和库，生成的代码用 cargo check 运行报错一大片。如果用 cursor 内置 AI 去检查错误，他是一万年也发现不了自己瞎编的函数和库的问题。我的方案就是把 cargo check 报错内容和 cursor 内置 AI 生成的解决问题方案复制粘贴给网页版 Gemini，让Gemini 发现错误并给出基本正确的方案。
3.  **语法错误:** Gemini 和 Claude 写的代码经常有语法错误，不是少了括号就是多了逗号，要么就是注释格式错误。并且检查错误时，cursor 内置的 Claude 发现不了 Claude 写的代码错误，必须用 Gemini 去检查 Claude 的代码错误。
4.  **Gemini 降智:** Gemini 2.5 pro exp 版本刚推出的时候，输出质量非常高（无报错），对话速度很快（生成回答时间低于20秒）。然而好景不长，4 月 25 日左右，Gemini 2.5 的每个对话推理思考时间达到了 3 分钟，并且经常输出报错。cursor 内置的 gemini 每次写的代码运行报错起码有几十个，我只能切换到让 claude 生成代码。同样的提示词，claude 生成的代码只有一两个语法错误报错，而 gemini 生成的代码全是逻辑错误和函数定义错误。到现在 gemini 降智的问题都没有解决。至于 deepseek r1，写的代码简直是一坨屎。
5.  **Debug 靠删功能:** Cursor 内置的 Gemini 和 Claude 只能按照提示词生成代码，完全没有项目规划能力。如果让 cursor 内置AI自己从 cargo check 日志中找报错原因和解决问题，它只会去删除原本已经实现的功能代码。只要把代码删干净，就不会有报错。
6.  **上下文限制:** 网页版的 Gemini 上下文已经可以达到 100 万 token，但对于软件项目来说，这还是不够。光是讨论需求和上传参考资料就占用了 30 万 token，完成基础后端功能的开发就达到了 70 万 token。一个对话超过 50 万 token 后，每个消息回复时间超过 3 分钟，等到抓狂。但如果新开对话，又无法载入之前对话的记忆和模型的微训练，从头调教和喂资料也是个繁琐的过程。所以最好的办法就是在对话超过 40 万 token 时，进行 branch，分叉出本次对话的克隆版，随后只需要给他输入前一个对话总结的信息，他就能恢复记忆，并且也不太需要微训练就能进入开发状态。

## 总结开发经验

用 AI 写代码简直是人类历史上最伟大的革命（真正的第五次工业革命），让全世界有想法但不会写代码的人可以借助 AI 将自己的空想变成实实在在的产品。有了 AI，乔布斯就不需要沃兹尼亚克搞苹果原型机，温克沃斯双胞胎兄弟也不需要扎克伯格帮他写代码。现在的我，再也不需要花钱雇程序员帮我写《电台精灵》。只懂一点编程皮毛的我，通过 Gemini 帮我梳理产品需求，制定详细开发需求文档，并指导我如何创建 Github 账户和代码库，并指导我安装 Cursor IDE 工具和配置前后端开发环境。所有的一切，只需要$20/月！

在具体写代码时，我发现 cursor 内置的 Gemini 和 Claude 没办法按照网页版 Gemini 的提示词一次生成超过 200 行的代码（无法正确理解复杂逻辑）。所以我就要求网页版 Gemini 将功能细化，每次只生成一部分功能的提示词，复制到 Cursor 后生成的代码就不会报错。

遇到代码报错，先让 cursor 内置的 Gemini 和 Claude 分析 cargo check 报错日志并给出代码修改方案，但不着急改代码，而是把 cursor 的修改方案和 cargo check 报错日志复制粘贴到网页版 Gemini 让他分析方案是否可行，以及让他给出更好的方案。网页版 Gemini 就会从项目整体角度分析和给出更合理的代码修改方案。通过两周的 cursor 使用经历，我发现 cursor 内置的 AI 最多能发现语法错误，至于功能和逻辑错误是完全没办法解决（解决方案就是删代码），这就需要基于全局考虑的网页版 Gemini 去发现和解决问题。

## 目前状态与展望

《电台精灵》目前已完成 Phase 1 后端基础框架的搭建和初步测试。代码库已包含核心功能模块并可成功编译（已通过所有单元测试）。

下一步将重点进行**前端开发**（基于 React + TypeScript + MUI + Vite 框架，遵循 Material Design 3 设计规范），目标是尽快实现核心交互界面，以便与后端进行联调测试。

目前正在开发中，我会继续更新进度，预计 5 月初能发布一个实现基础功能的测试版，敬请期待！

## 加入我们！

《电台精灵》是一个源于热爱、由 AI 驱动开发的开源项目。无论你是无线电老手、编程新手，还是像我一样对技术充满好奇的普通玩家，都欢迎你关注、试用、提出建议，甚至加入进来！

让我们一起用代码和电波，连接世界，探索未知！

73!

VK7KSM
